var t,i;(t=window.document).getElementById("livereloadscript")||((i=t.createElement("script")).async=1,i.src="//"+(window.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",i.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(i));let e,r,o={};function n(t,...i){(o[t]||[]).map((t=>t(...i)))}function s(){return r}class h{constructor(t=0,i=0,e={}){this.x=t,this.y=i}add(t){return new h(this.x+t.x,this.y+t.y,this)}length(){return Math.hypot(this.x,this.y)}}function a(){return new h(...arguments)}a.prototype=h.prototype,a.class=h;const c=()=>{};class d extends class{constructor(t){return this.init(t)}init(t={}){this.position=a(),this.velocity=a(),Object.assign(this,t)}update(t){this.advance(t)}advance(t){let i=this.velocity;this.position=this.position.add(i),this._pc()}get dx(){return this.velocity.x}get dy(){return this.velocity.y}set dx(t){this.velocity.x=t}set dy(t){this.velocity.y=t}_pc(){}}{init({width:t=0,height:i=0,context:e=s(),render:r=this.draw,update:o=this.advance,rotation:n=0,...h}={}){super.init({width:t,height:i,context:e,rotation:n,...h}),this._di=!0,this._uw(),this._rf=r,this._uf=o}update(t){this._uf(t)}render(t){let i=this.context;i.save(),(this.x||this.y)&&i.translate(this.x,this.y),this.rotation&&i.rotate(this.rotation),this._rf(),i.restore()}draw(){}_pc(t,i){this._uw()}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this._pc()}set y(t){this.position.y=t,this._pc()}get width(){return this._w}set width(t){this._w=t,this._pc()}get height(){return this._h}set height(t){this._h=t,this._pc()}_uw(){if(!this._di)return;let{_wx:t=0,_wy:i=0,_wr:e=0}=this.parent||{};this._wx=this.x,this._wy=this.y,this._ww=this.width,this._wh=this.height,this._wr=e+this.rotation;let{x:r,y:o}=function(t,i){let e=Math.sin(i),r=Math.cos(i);return{x:t.x*r-t.y*e,y:t.x*e+t.y*r}}({x:this.x,y:this.y},e);this._wx=r,this._wy=o}get world(){return{x:this._wx,y:this._wy,width:this._ww,height:this._wh,rotation:this._wr}}get rotation(){return this._rot}set rotation(t){this._rot=t,this._pc()}}function l(){return new d(...arguments)}l.prototype=d.prototype,l.class=d;class u extends l.class{init({...t}={}){super.init({...t})}draw(){this.color&&(this.context.fillStyle=this.color,this.context.fillRect(0,0,this.width,this.height))}}function p(){return new u(...arguments)}function f(t){let i=t.canvas;t.clearRect(0,0,i.width,i.height)}p.prototype=u.prototype,p.class=u;var w={config:{board:{width:0,height:0,divider:25},box:{width:20,height:20,offset:1,border:{size:1,color:"#aaa"},type:{free:{color:"darkgray"},wall:{color:"purple"},robot:{color:"green"}}}}},y=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];var x=function(t,i,e,r,o){return new i({x:e,y:r,type:o,width:t.width,height:t.height,render:function(){switch(this.type){case 0:this.context.fillStyle=t.type.free.color;break;case 1:this.context.fillStyle=t.type.wall.color;break;case 8:this.context.fillStyle=t.type.robot.color}this.context.lineWidth=t.border.size,this.context.strokeStyle=t.border.color,this.context.strokeRect(0,0,t.width,t.height),this.context.fillRect(t.offset,t.offset,t.width-2*t.offset,t.height-2*t.offset)},update:function(){}})};var g={getBoardCounts:function(t,i){return{x:t.width/i.width,y:t.height/i.height}},createBoardMatrix:function(t,i){for(var e=0;e<i.x;e++)t[e]=new Array(i.y)},mapBoard:function(t,i,e){for(var r=0;r<e;r++)for(var o=0;o<e;o++)t[o][r]=i[r*e+o]},drawBoard:function(t,i,e,r,o){for(var n=0,s=0;s<e.x;s++){for(var h=0,a=0;a<e.y;a++)t[s][a]=r(i,o,n,h,t[s][a]),h+=i.height;n+=i.width}},actionFullBoard:function(t,i,e){for(var r=0;r<i.x;r++)for(var o=0;o<i.y;o++)e(t[r][o])}},_=function(t){if(e=document.getElementById(t)||t||document.querySelector("canvas"),!e)throw Error("You must provide a canvas element for the game");return r=e.getContext("2d"),r.imageSmoothingEnabled=!1,n("init"),{canvas:e,context:r}}().canvas;w.config.board.width=_.width,w.config.board.height=_.height;var v=new Array,m=g.getBoardCounts(w.config.board,w.config.box);g.createBoardMatrix(v,m),g.mapBoard(v,y,w.config.board.divider),g.drawBoard(v,w.config.box,m,x,p),new function({fps:t=60,clearCanvas:i=!0,update:e=c,render:r,context:o=s()}={}){if(!r)throw Error("You must provide a render() function");let h,a,d,l,u,p=0,w=1e3/t,y=1/t,x=i?f:c;function g(){if(a=requestAnimationFrame(g),d=performance.now(),l=d-h,h=d,!(l>1e3)){for(n("tick"),p+=l;p>=w;)u.update(y),p-=w;x(o),u.render()}}return u={update:e,render:r,isStopped:!0,start(){h=performance.now(),this.isStopped=!1,requestAnimationFrame(g)},stop(){this.isStopped=!0,cancelAnimationFrame(a)},_frame:g,set _last(t){h=t}},u}({update:function(t){},render:function(){g.actionFullBoard(v,m,(function(t){t.render()}))}}).start();